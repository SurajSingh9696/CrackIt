import{u as R,j as e,a as S}from"./index-Kc9rZnEA.js";import{r,u as I}from"./react-vendor-B4ExKG6A.js";import{L as U}from"./Layout-TqUdT0KQ.js";import{m as t,A as C}from"./animation-DFf1LwfH.js";import{B as x,t as T,F as y,L as P,g,b as f,a as u,u as z,A as H}from"./ui-CUFzNVlv.js";const K=()=>{const[l,d]=r.useState(null),[n,o]=r.useState(!1),[p,h]=r.useState(!1),[j,m]=r.useState(!1),[i,c]=r.useState(null),{updateUser:b}=R(),N=I(),w=r.useRef(null),v=a=>{const s=a.target.files[0];s&&s.type==="application/pdf"?(d(s),c(null)):alert("Please select a PDF file")},k=a=>{a.preventDefault(),o(!0)},D=a=>{a.preventDefault(),o(!1)},A=a=>{a.preventDefault(),o(!1);const s=a.dataTransfer.files[0];s&&s.type==="application/pdf"?(d(s),c(null)):alert("Please drop a PDF file")},F=async()=>{if(!l)return;const a=new FormData;a.append("resume",l),h(!0),m(!0);try{const s=await S.post("/resume/upload",a,{headers:{"Content-Type":"multipart/form-data"}});c(s.data),b({resumeData:s.data.resumeData,interviewReadinessScore:s.data.readinessScore}),setTimeout(()=>m(!1),1500)}catch(s){alert(s.response?.data?.message||"Upload failed"),m(!1)}finally{h(!1)}};return e.jsx(U,{children:e.jsxs("div",{className:"max-w-5xl mx-auto",children:[e.jsx(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-6 sm:mb-8",children:e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 mb-2 sm:mb-3",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-emerald-500 to-teal-500 rounded-lg sm:rounded-xl flex items-center justify-center shadow-lg flex-shrink-0",children:e.jsx(x,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold bg-gradient-to-r from-emerald-600 to-teal-600 bg-clip-text text-transparent",children:"Resume Analysis"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400",children:"Upload your resume for AI-powered insights"})]})]})}),e.jsx(C,{mode:"wait",children:i?j?e.jsxs(t.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"card text-center py-16 bg-gradient-to-br from-emerald-50 to-teal-50 dark:from-emerald-900/20 dark:to-teal-900/20 border-none",children:[e.jsx(t.div,{animate:{rotate:360,scale:[1,1.1,1]},transition:{rotate:{duration:2,repeat:1/0,ease:"linear"},scale:{duration:1,repeat:1/0,ease:"easeInOut"}},className:"inline-flex items-center justify-center w-24 h-24 bg-gradient-to-br from-emerald-500 to-teal-500 rounded-3xl mb-6 shadow-2xl",children:e.jsx(x,{className:"w-12 h-12 text-white"})}),e.jsx("h3",{className:"text-3xl font-bold mb-3 bg-gradient-to-r from-emerald-600 to-teal-600 bg-clip-text text-transparent",children:"AI is Analyzing..."}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:"Extracting skills, experience, and generating insights"}),e.jsx("div",{className:"flex justify-center space-x-2 mt-6",children:[0,1,2].map(a=>e.jsx(t.div,{animate:{y:[0,-10,0]},transition:{duration:.6,repeat:1/0,delay:a*.2},className:"w-3 h-3 bg-primary-600 rounded-full"},a))})]},"analyzing"):e.jsxs(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[e.jsx(t.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:200},className:"card bg-gradient-to-r from-green-500 to-emerald-500 text-white border-none",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center",children:e.jsx(z,{className:"w-10 h-10"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-2xl font-bold mb-1",children:"Analysis Complete! ðŸŽ‰"}),e.jsx("p",{className:"text-white/90",children:i.resumeData.summary})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-4xl font-bold mb-1",children:[i.readinessScore,"%"]}),e.jsx("div",{className:"text-sm text-white/80",children:"Readiness"})]})]})}),e.jsxs(t.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},className:"card",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-amber-500 to-orange-500 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx(g,{className:"w-6 h-6 text-white"})}),e.jsx("h3",{className:"text-2xl font-bold",children:"Skills Detected"}),e.jsxs("span",{className:"ml-auto px-3 py-1 bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-300 rounded-full text-sm font-semibold",children:[i.resumeData.skills.length," skills"]})]}),e.jsx("div",{className:"flex flex-wrap gap-3",children:i.resumeData.skills.map((a,s)=>e.jsx(t.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.3+s*.05,duration:.15},whileHover:{scale:1.05,y:-1},className:"px-4 py-2 bg-gradient-to-r from-amber-500 to-orange-500 text-white rounded-xl text-sm font-semibold shadow-md hover:shadow-lg transition-all",children:a},s))})]}),e.jsxs(t.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4},className:"card",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-emerald-500 to-teal-500 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx(f,{className:"w-6 h-6 text-white"})}),e.jsx("h3",{className:"text-2xl font-bold",children:"Experience Highlights"})]}),e.jsx("ul",{className:"space-y-3",children:i.resumeData.experience.map((a,s)=>e.jsxs(t.li,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5+s*.1},className:"flex items-start space-x-3 p-3 rounded-xl hover:bg-emerald-50 dark:hover:bg-emerald-900/20 transition-colors",children:[e.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-emerald-500 to-teal-500 rounded-full mt-2"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300 flex-1",children:a})]},s))})]}),e.jsxs(t.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.6},className:"card",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-red-500 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx(u,{className:"w-6 h-6 text-white"})}),e.jsx("h3",{className:"text-2xl font-bold",children:"Project Portfolio"})]}),e.jsx("ul",{className:"space-y-3",children:i.resumeData.projects.map((a,s)=>e.jsxs(t.li,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.7+s*.1},className:"flex items-start space-x-3 p-3 rounded-xl hover:bg-orange-50 dark:hover:bg-orange-900/20 transition-colors",children:[e.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-orange-500 to-red-500 rounded-full mt-2"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300 flex-1",children:a})]},s))})]}),e.jsxs(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs(t.button,{whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.15},onClick:()=>N("/role"),className:"btn-primary flex-1 inline-flex items-center justify-center space-x-2",children:[e.jsx("span",{children:"Select Target Role"}),e.jsx(H,{className:"w-5 h-5"})]}),e.jsx(t.button,{whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.15},onClick:()=>{d(null),c(null)},className:"btn-secondary flex-1",children:"Upload Another Resume"})]})]},"results"):e.jsxs(t.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3},children:[e.jsx("div",{onDragOver:k,onDragLeave:D,onDrop:A,className:`card border-2 border-dashed transition-all duration-300 ${n?"border-primary-500 bg-primary-50 dark:bg-primary-900/20 scale-105":"border-gray-300 dark:border-gray-600"}`,children:e.jsxs("div",{className:"text-center py-16",children:[e.jsx(t.div,{animate:{y:n?-10:0,scale:n?1.1:1},transition:{type:"spring",stiffness:300},className:"inline-flex items-center justify-center w-24 h-24 bg-gradient-to-br from-emerald-500 to-teal-500 rounded-3xl mb-6 shadow-2xl",children:e.jsx(T,{className:"w-12 h-12 text-white"})}),e.jsx("h3",{className:"text-2xl font-bold mb-3",children:n?"Drop your resume here!":"Upload Your Resume"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6 max-w-md mx-auto",children:"Drag and drop your resume or click to browse. PDF format, maximum 5MB"}),e.jsx("input",{ref:w,type:"file",accept:".pdf",onChange:v,className:"hidden",id:"resume-upload"}),e.jsxs(t.label,{whileHover:{scale:1.05},whileTap:{scale:.95},htmlFor:"resume-upload",className:"inline-flex items-center space-x-2 btn-primary cursor-pointer",children:[e.jsx(y,{className:"w-5 h-5"}),e.jsx("span",{children:"Choose File"})]}),l&&e.jsxs(t.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-8 inline-flex items-center space-x-3 bg-gradient-to-r from-emerald-50 to-teal-50 dark:from-emerald-900/20 dark:to-teal-900/20 px-6 py-4 rounded-2xl",children:[e.jsx(y,{className:"w-6 h-6 text-primary-600"}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[(l.size/1024).toFixed(2)," KB"]})]})]}),l&&e.jsx(t.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:F,disabled:p,className:"mt-6 btn-primary disabled:opacity-50 inline-flex items-center space-x-2",children:p?e.jsxs(e.Fragment,{children:[e.jsx(P,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{children:"Uploading..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(g,{className:"w-5 h-5"}),e.jsx("span",{children:"Analyze with AI"})]})})]})}),e.jsx(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[{icon:x,title:"AI Powered",desc:"Advanced algorithms"},{icon:f,title:"Instant Results",desc:"Get feedback in seconds"},{icon:u,title:"Skill Extraction",desc:"Identify key strengths"}].map((a,s)=>e.jsxs(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3+s*.1},className:"card text-center bg-gradient-to-br from-gray-50 to-emerald-50 dark:from-gray-800 dark:to-emerald-900/20 border-none",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-emerald-500 to-teal-500 rounded-xl flex items-center justify-center mx-auto mb-3 shadow-lg",children:e.jsx(a.icon,{className:"w-6 h-6 text-white"})}),e.jsx("h4",{className:"font-semibold mb-1",children:a.title}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:a.desc})]},a.title))})]},"upload")})]})})};export{K as default};
